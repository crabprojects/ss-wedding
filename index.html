<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Syahar & Sjahrani Wedding</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Mr+De+Haviland&family=Playwrite+DE+Grund:wght@100..400&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <!-- Countdown Plugin -->
    <link rel="stylesheet" href="countdown/cyber.min.css" />
    <script src="countdown/simplyCountdown.umd.js"></script>

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style2.css" />
  </head>

  <body class="no scroll">
    <section class="splash-screen-content splash-screen">
      <div class="popup-card">
        <!-- Gambar background masuk ke dalam card -->
        <div class="card-bg">
          <img src="img/bg12.jpg" alt="Background" />
        </div>

        <!-- Konten tetap -->
        <main>
          <div class="judul-text">
            <h2>The Wedding Celebration Of</h2>
            <h1>Syahar & Sjahrani</h1>
            <p>10 Juni 2025</p>
          </div>

          <div class="isi-text">
            <h4>Kepada Bapak/Ibu/Saudara/i,</h4>
            <h3 class="mb-4">Keluarga Besar RS Provita Jayapura</h3>
            <p>You Are Invited !</p>
            <!-- <div class="simply-countdown-cyber cyber mt-4"></div> -->
            <a href="#undangan" class="btn btn-lg mt-4 splash-button"
              >Open Invitation</a
            >
          </div>
        </main>
      </div>
    </section>

    <!-- <section id="hero" class="hero splash-screen">
      <main>
        <h4>Kepada Bapak/Ibu/Saudara/i,</h4>
        <h1 class="mb-4">Syahar & Sjahrani</h1>
        <p>Akan melangsungkan resepsi pernikahan dalam</p>
        <div class="simply-countdown-cyber cyber mt-4"></div>
        <a href="#undangan" class="btn btn-lg mt-4 splash-button"
          >Lihat Undangan</a
        >
      </main>
    </section> -->

    <section id="hero" class="hero">
      <main>
        <div class="hero-text">
          <h2>The Wedding Of</h2>
          <h1>Syahar & Sjahrani</h1>
          <h3>Selasa, 10 Juni 2025</h3>
        </div>
      </main>

      <div class="hero-countdown">
        <div class="countdown-glass">
          <div class="simply-countdown-cyber mt-4"></div>
          <div class="row">
            <div class="col-md arti">
              "Dialah yang menciptakan kamu dari diri yang satu dan dari padanya
              Dia menciptakan pasangannya, agar dia merasa tenteram kepadanya."
              <div class="qs">Q.S Al-A'raf : 189</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <nav class="navbar navbar-expand-md bg-transparent sticky-top mynavbar">
      <div class="container">
        <a class="navbar-brand" href="#">SS Invitation</a>
        <button
          class="navbar-toggler border-0"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar"
          aria-controls="offcanvasNavbar"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="offcanvas offcanvas-end"
          tabindex="-1"
          id="offcanvasNavbar"
          aria-labelledby="offcanvasNavbarLabel"
        >
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">SS</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <div class="offcanvas-body">
            <div class="navbar-nav ms-auto">
              <a class="nav-link" href="#home">Home</a>
              <a class="nav-link" href="#wedding-event">Event</a>
              <a class="nav-link" href="#wedding-gift">Gift</a>
              <a class="nav-link" href="#wedding-rsvp">Rsvp</a>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <section id="home" class="home">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 text-center">
            <h2>Our Wedding</h2>
            <h3>
              Tanpa mengurangi rasa hormat, kami bermaksud mengundang <br />
              Bapak/Ibu/Saudara/i untuk menghadiri acara Pernikahan kami
            </h3>
          </div>
        </div>

        <div class="row couple">
          <div class="col-lg-6">
            <div class="row">
              <div class="col-8 syahar-8 text-end">
                <div class="user-groom">Syahar</div>
                <h4>Amin Syahar Hasanuddin, S.Kom</h4>
                <div class="parents">
                  Putra bungsu dari Bapak H. Hasanuddin, B.Sc dan Ibu Hj.
                  Rosmawati
                </div>
              </div>
              <div class="col-4 syahar-4">
                <img
                  src="img/avatar_left_final_tight_crop.png"
                  alt="Syahar"
                  class="img-responsive img-syahar"
                />
              </div>
            </div>
          </div>

          <!-- <span class="heart"><i class="bi bi-heart-fill"></i></span> -->

          <div class="col-lg-6">
            <div class="row">
              <div class="col-4 sjahrani-4">
                <img
                  src="img/avatar_right_final_tight_crop.png"
                  alt="Sjahrani"
                  class="img-responsive img-sjahrani"
                />
              </div>
              <div class="col-8 sjahrani-8">
                <div class="user-groom">Sjahrani</div>
                <h4>Riska Sjahrani Bakri</h4>
                <div class="parents">
                  Putri bungsu dari Bapak Bakri dan Ibu Nurbaya
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="wedding-event" class="wedding-event">
      <div class="container">
        <div class="row event-card-wrapper">
          <div class="col-10 text-center">
            <div class="font-wrap">
              <h2 class="font-judul">
                Akad <span class="font-subjudul">EvenT</span>
              </h2>
            </div>
            <p class="mt-2 event-date">
              Selasa <span class="date-circle">10</span> Juni 2025
            </p>
            <p style="font-style: italic">Pukul 09.00 WIT</p>
            <p>Kediaman Mempelai Wanita</p>
            <p class="alamat mb-5 mt-2">
              Jl. Pantai Kelapa No 16 Argapura Lapangan (Kompleks Kost H Yusuf)
            </p>
            <a
              href="https://maps.app.goo.gl/SGHQA8USmH2Xg9tY7"
              target="_blank"
              class="gmaps-btn"
              >Google Maps</a
            >
          </div>

          <div class="separator">Syahar & Sjahrani</div>
          <!-- Ini pembatasnya -->

          <div class="col-10 text-center">
            <div class="font-wrap">
              <h2 class="font-judul">
                Perjamuan <span class="font-subjudul">EvenT</span>
              </h2>
            </div>
            <p class="mt-2 event-date">
              Selasa <span class="date-circle">10</span> Juni 2025
            </p>
            <p style="font-style: italic">Pukul 18.30 WIT</p>
            <p>Gedung Aula Mako Lantamal X <br />(Angkatan Laut)</p>
            <p class="alamat mb-5 mt-2">
              Jl. Klp. 2 No.18, Hamadi, Distrik Jayapura Selatan, Kota Jayapura,
              Papua 99221
            </p>
            <a
              href="https://maps.app.goo.gl/1wmduGo1FutRLbBAA"
              target="_blank"
              class="gmaps-btn"
              >Google Maps</a
            >
          </div>
        </div>
      </div>
    </section>

    <section id="wedding-gift" class="wedding-gift">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <h2 class="font-judul-gift">
              Wedding <span class="font-subjudul-gift">GifT</span>
            </h2>
            <p>
              Doa restu anda merupakan karunia yang sangat berarti bagi kami,
              dan jika memberi adalah ungkapan tanda kasih anda, anda dapat
              memberi kado secara cashless
            </p>
          </div>
        </div>
        <div class="row justify-content-center atm-card">
          <div class="col-md-8 col-10">
            <div class="bank-logo">
              <img src="img/brilogo1-removebg-preview.png" alt="Bank Logo" />
            </div>

            <p class="copy-btn-wrapper">
              <a
                href="#wedding-gift"
                onclick="copyToClipboard('214101035155507')"
                ><i class="bi bi-copy"></i> Copy</a
              >
            </p>
            <p class="atm-date">10/06/2025</p>
            <p class="norek">2141 0103 5155 507</p>
            <p class="nama-rek">Amin Syahar Hasanuddin</p>
          </div>
        </div>
      </div>
    </section>

    <section id="wedding-rsvp" class="wedding-rsvp">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center wishes">
            <h2>Wishes</h2>
            <p>Beri ucapan dan doa</p>
          </div>
        </div>

        <div class="row justify-content-center">
          <div class="col-md-8 col-10 text-center">
            <!-- Tambahan HTML form -->
            <div class="wishes-card">
              <div class="wishes-card-overlay">
                <hr />
                <p>10 Comments</p>
                <div class="row">
                  <div class="col-6">
                    <div class="card">
                      <div class="card-body hadir">
                        <span>14</span>
                        <p>Hadir</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="card">
                      <div class="card-body tidak-hadir">
                        <span>2</span>
                        <p>Tidak Hadir</p>
                      </div>
                    </div>
                  </div>
                </div>
                <hr />
                <form
                  id="wishesForm"
                  method="post"
                  action="https://script.google.com/macros/s/AKfycbwbUbWo89LDKz1dLzVkPC_YqCNau_uLXdERZAg7nHcaEbNCCNTjNd8dfKVRkMFgpqQ/exec"
                  target="_blank"
                  class="wishes-form"
                >
                  <div class="form-group">
                    <input
                      type="text"
                      id="nama"
                      name="nama"
                      placeholder="Masukkan nama Anda"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <textarea
                      id="pesan"
                      name="pesan"
                      rows="3"
                      placeholder="Tulis ucapan atau doa"
                      required
                    ></textarea>
                  </div>
                  <div class="form-group">
                    <select id="status" name="status" required>
                      <option value="">Pilih</option>
                      <option value="Hadir">Hadir</option>
                      <option value="Tidak Hadir">Tidak Hadir</option>
                    </select>
                  </div>
                  <button type="submit" class="submit-btn">Kirim</button>
                </form>

                <div class="comments-section">
                  <div class="comments-list">
                    <!-- contoh komentar dummy -->
                    <!-- <div class="comment-item"></div> -->
                    <!-- <div class="comment-item">
                      <strong>Nama Tamu</strong>
                      <p>Selamat menempuh hidup baru!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 2</strong>
                      <p>Semoga bahagia selalu!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 3</strong>
                      <p>Barakallah!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 4</strong>
                      <p>Langgeng yaa!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 5</strong>
                      <p>Congrats!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu</strong>
                      <p>Selamat menempuh hidup baru!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 2</strong>
                      <p>Semoga bahagia selalu!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 3</strong>
                      <p>Barakallah!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 4</strong>
                      <p>Langgeng yaa!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 5</strong>
                      <p>Congrats!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu</strong>
                      <p>Selamat menempuh hidup baru!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 2</strong>
                      <p>Semoga bahagia selalu!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 3</strong>
                      <p>Barakallah!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 4</strong>
                      <p>Langgeng yaa!</p>
                    </div>
                    <div class="comment-item">
                      <strong>Nama Tamu 5</strong>
                      <p>Congrats!</p>
                    </div> -->
                  </div>

                  <!-- pagination -->
                  <div class="pagination">
                    <button id="prev-btn" class="pagination-btn">
                      Previous
                    </button>
                    <button id="next-btn" class="pagination-btn">Next</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>

    <script>
      document
        .querySelector(".splash-button")
        .addEventListener("click", function (e) {
          e.preventDefault();

          const splash = document.querySelector(".splash-screen");
          const popup = document.querySelector(".popup-card");

          // Tambahkan animasi ke card
          popup.classList.add("boom-out");

          // Setelah sedikit delay, sembunyikan overlay
          setTimeout(() => {
            splash.classList.add("hide");

            // Scroll ke section undangan setelah animasi selesai
            document.querySelector(this.getAttribute("href")).scrollIntoView({
              behavior: "smooth",
            });
          }, 5000); // waktu sesuai durasi animasi boomOut
        });
    </script>

    <script>
      document.body.classList.add("no-scroll");

      const splashBtn = document.querySelector(".splash-button");
      const splashScreen = document.querySelector(".splash-screen");

      splashBtn.addEventListener("click", function (e) {
        e.preventDefault();
        splashScreen.classList.add("fade-out");

        setTimeout(() => {
          splashScreen.style.display = "none";
          document.body.classList.remove("no-scroll");
        }, 1000); // selesai animasi fade out
      });
    </script>

    <!-- Countdown Setup -->
    <script>
      simplyCountdown(".simply-countdown-cyber", {
        year: 2025,
        month: 6,
        day: 10,
        hours: 9,
        words: {
          days: { root: "day", lambda: (r, n) => (n > 1 ? r + "s" : r) },
          hours: { root: "hour", lambda: (r, n) => (n > 1 ? r + "s" : r) },
          minutes: { root: "minute", lambda: (r, n) => (n > 1 ? r + "s" : r) },
          seconds: { root: "second", lambda: (r, n) => (n > 1 ? r + "s" : r) },
        },
      });
    </script>

    <script>
      function copyToClipboard(text) {
        navigator.clipboard
          .writeText(text)
          .then(() => {
            alert("Nomor rekening berhasil dicopy");
          })
          .catch((err) => {
            alert("Gagal copy");
          });
      }
    </script>

    <!-- Script comment -->
    <script>
      const form = document.getElementById("wishesForm");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const nama = document.getElementById("nama").value;
        const pesan = document.getElementById("pesan").value;
        const status = document.getElementById("status").value;

        const formData = new FormData();
        formData.append("nama", nama);
        formData.append("pesan", pesan);
        formData.append("status", status);

        try {
          const res = await fetch(
            "https://script.google.com/macros/s/AKfycbwbUbWo89LDKz1dLzVkPC_YqCNau_uLXdERZAg7nHcaEbNCCNTjNd8dfKVRkMFgpqQ/exec",
            {
              method: "POST",
              body: formData,
            }
          );

          const result = await res.json();
          if (result.result === "success") {
            form.reset();
            loadComments();
          } else {
            alert("Gagal kirim data!");
          }
        } catch (err) {
          alert("Error saat mengirim!");
        }
      });

      // function handleData(data) {
      //   document.querySelector(".hadir span").textContent = data.hadir;
      //   document.querySelector(".tidak-hadir span").textContent =
      //     data.tidakHadir;
      //   document.querySelector(
      //     ".wishes-card-overlay > p"
      //   ).textContent = `${data.comments.length} Comments`;

      //   const commentsList = document.querySelector(".comments-list");
      //   commentsList.innerHTML = "";

      //   data.comments.reverse().forEach((row) => {
      //     const div = document.createElement("div");
      //     div.classList.add("comment-item");
      //     div.innerHTML = `
      //       <strong>${row.nama}</strong>
      //       <p>${row.pesan}</p>
      //     `;
      //     commentsList.appendChild(div);
      //   });
      // }

      // function loadComments() {
      //   const oldScript = document.getElementById("jsonpScript");
      //   if (oldScript) oldScript.remove();

      //   const script = document.createElement("script");
      //   script.id = "jsonpScript";
      //   script.src =
      //     "https://script.google.com/macros/s/AKfycbwbUbWo89LDKz1dLzVkPC_YqCNau_uLXdERZAg7nHcaEbNCCNTjNd8dfKVRkMFgpqQ/exec?callback=handleData";
      //   document.body.appendChild(script);
      // }

      // window.addEventListener("DOMContentLoaded", loadComments);
    </script>

    <script>
      function handleData(data) {
        document.querySelector(".hadir span").textContent = data.hadir;
        document.querySelector(".tidak-hadir span").textContent =
          data.tidakHadir;

        const commentsList = document.querySelector(".comments-list");
        commentsList.innerHTML = "";

        data.comments.reverse().forEach((row) => {
          const div = document.createElement("div");
          div.classList.add("comment-item");
          div.innerHTML = `
        <strong>${row.nama}</strong>
        <p>${row.pesan}</p>
      `;
          commentsList.appendChild(div);
        });
      }

      function loadComments() {
        const script = document.createElement("script");
        script.src =
          "https://script.google.com/macros/s/AKfycbwbUbWo89LDKz1dLzVkPC_YqCNau_uLXdERZAg7nHcaEbNCCNTjNd8dfKVRkMFgpqQ/exec?callback=handleData";
        document.body.appendChild(script);
      }

      document.addEventListener("DOMContentLoaded", loadComments);
    </script>

    <!-- Script comment -->

    <!-- Load comment -->

    <!-- Load comment -->

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const comments = document.querySelectorAll(".comment-item");
        const prevBtn = document.getElementById("prev-btn");
        const nextBtn = document.getElementById("next-btn");
        const commentsPerPage = 10;
        let currentPage = 1;
        const totalPages = Math.ceil(comments.length / commentsPerPage);

        function animateOut(element, callback) {
          element.style.transition = "opacity 0.4s ease, transform 0.4s ease";
          element.style.opacity = 0;
          element.style.transform = "scale(0.95)";
          setTimeout(() => {
            element.style.display = "none";
            if (callback) callback();
          }, 400); // waktu harus sama dengan transition di atas
        }

        function animateIn(element) {
          element.style.display = "block";
          element.style.opacity = 0;
          element.style.transform = "scale(1.05)";
          element.style.transition = "opacity 0.4s ease, transform 0.4s ease";
          requestAnimationFrame(() => {
            element.style.opacity = 1;
            element.style.transform = "scale(1)";
          });
        }

        function showPage(page) {
          const start = (page - 1) * commentsPerPage;
          const end = start + commentsPerPage;

          comments.forEach((comment, index) => {
            if (index >= start && index < end) {
              animateIn(comment);
            } else {
              animateOut(comment);
            }
          });

          prevBtn.disabled = page === 1;
          nextBtn.disabled = page === totalPages;
        }

        prevBtn.addEventListener("click", function () {
          if (currentPage > 1) {
            currentPage--;
            showPage(currentPage);
          }
        });

        nextBtn.addEventListener("click", function () {
          if (currentPage < totalPages) {
            currentPage++;
            showPage(currentPage);
          }
        });

        // Awal sembunyikan semua dulu
        comments.forEach((comment) => {
          comment.style.opacity = 0;
          comment.style.transform = "scale(0.95)";
          comment.style.display = "none";
        });

        showPage(currentPage);
      });
    </script>
  </body>
</html>
